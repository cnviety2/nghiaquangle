<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Phong cách Guchill</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="./images/icons/159283044_148455357144045_495514831591997349_o.jpg">
</head>

<body class="container">
    <div class="jumbotron">
        <h1>Đời chỉ được hỏi,ko được ngả</h1>
        <p>Muốn được chill như anh ? Muốn được đỉnh như anh ? Đâu có được em,nhưng dùng cách nói của anh thì được</p>
        <a href="https://www.youtube.com/watch?v=_uG0GdgTXNo&t=24s">Mấy đứa ủng hộ anh Nghỉa làm utube nhen</a>
        <p></p>
        <a href="baotang.html">Bảo tàng anh Nghỉa</a>
    </div>

    <div class="row">
        <div class="col-md-2">
            <p class="text-black">Nhập vào bên dưới:</p>
            <textarea id="txtInput" class="form-control z-depth-1" placeholder="Nhập vào bên dưới">

            </textarea>
        </div>
        <div class="col-md-4 ml-5" id="col-convert">
            <button class="btn btn-dark ml-5" id="btnConvert">Chuyển</button>
            <button class="btn btn-dark" id="btnCopy">Copy</button>
        </div>
        <div class="col-md-2">
            <p class="text-black">Nghỉa style:</p>
            <textarea id="txtOutput" readonly class="form-control z-depth-1">

            </textarea>
        </div>
    </div>

    <div class="row mt-3">

        <div class="col-md-5">
            <h2>Copypasta anh nghỉa</h2>
        </div>
    </div>
    <div class="row mt-3">

        <div class="col-md-10" id="col-copypasta">
            <select class="custom-select" id="selectCopypasta">
            </select>
            <button class="btn btn-dark ml-3" id="btnCopypasta">Xem copypasta</button>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-md-5">
            <textarea class="form-control z-depth-1" readonly id="txtOutputCopypasta"></textarea>
        </div>
        <div class="col-md-5">
            <button class="btn btn-dark ml-3" id="btnCopyCopypasta">Copy</button>
        </div>
    </div>

    <div class="row mt-3">
        <div class="col-md-4">
            <iframe width="500" height="300" src="https://www.youtube.com/embed/fWG5nJGqGxw"
                title="YouTube video player" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
            </iframe>
        </div>

        <div class="col-md-4 offset-2">
            <iframe width="540" height="300" src="https://www.youtube.com/embed/cqsSM-jZ23Q"
                title="YouTube video player" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
        </div>
    </div>

    <footer class="bg-light text-center text-lg-start mb-3 mt-3">
        <!-- Grid container -->
        <div class="container p-4">
            <!--Grid row-->
            <div class="row">
                <!--Grid column-->
                <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
                    <h5 class="text-uppercase">11 tháng 10 lúc 11:21</h5>

                    <p>
                        Cái này anh góp ý chứ không có ý gì đâu đó là chửi ai nói xấu ai thì chat riêng thôi đừng vô
                        group nói mn hiểu nhầm rồi mất lòng nhau lớn rồi mấy cái đó nên chat riêng
                    </p>
                </div>
                <!--Grid column-->

                <!--Grid column-->
                <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
                    <h5 class="text-uppercase">kwang lee đã phản hồi tin nhắn</h5>

                    <p>
                        Anh hồi hutech đi bùi viện phố đi bộ như cơm bửa đàn đúm lắm mà lớn lên mấy cái đó cũng không
                        còn ,anh trưởng thành muộn năm 21 tuổi anh mới suy nghĩ chính chắn dc
                    </p>
                </div>
                <!--Grid column-->
            </div>
            <!--Grid row-->
        </div>
        <!-- Grid container -->

        <!-- Copyright -->
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
            © 2020 Copyright:
            <a class="text-dark" href="https://anhnghiachill.herokuapp.com/">anhnghiachill.herokuapp.com</a>
        </div>
        <!-- Copyright -->
    </footer>

    <audio src="./audio/l-a-u-d-a-i-t-i-n-h-c-h-i-l-l-f-t-simon-lee.mp3" autoplay="true">
        <p>asd</p>
    </audio>

    <script>
        var txtOutput = document.getElementById('txtOutput');
        var txtOutputCopypasta = document.getElementById('txtOutputCopypasta');
        var txtInput = document.getElementById('txtInput');
        var btnConvert = document.getElementById('btnConvert');
        var selectCopypasta = document.getElementById('selectCopypasta');
        var btnCopypasta = document.getElementById('btnCopypasta');
        var btnCopyCopypasta = document.getElementById('btnCopyCopypasta');


        async function fetchCategories() {
            var categories = await fetch('https://nghiaquangle.herokuapp.com/copypasta/get-all-category').then(response => response.json()).then(data => categories = data.listContent);
            for (var i = 0; i < categories.length; i++) {
                var opt = document.createElement('option');
                opt.value = categories[i];
                opt.innerHTML = categories[i];
                selectCopypasta.appendChild(opt);
            }
        }
        fetchCategories();
        btnCopypasta.onclick = () => {
            btnCopypasta.setAttribute('disabled', 'disabled');
            var colCopypasta = document.getElementById('col-copypasta');
            colCopypasta.appendChild(spinner);
            fetch('https://nghiaquangle.herokuapp.com/copypasta/get', {
                method: 'post',
                credentials: 'same-origin',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ 'content': selectCopypasta.value })
            }).then(response => response.json())
                .then(data => {
                    txtOutputCopypasta.value = data.content;
                    btnCopypasta.removeAttribute('disabled');
                    spinner.parentNode.removeChild(spinner);
                }).catch(error => {
                    btnCopypasta.removeAttribute('disabled');
                    spinner.parentNode.removeChild(spinner);
                })
        }

        var spinner = document.createElement('img');
        spinner.src = 'Spinner-1s-200px.svg';
        spinner.setAttribute('height', '40px');
        spinner.setAttribute('id', 'spinner');

        var btnCopy = document.getElementById('btnCopy');

        btnConvert.onclick = function () {
            btnConvert.setAttribute('disabled', 'disabled');
            var colConvert = document.getElementById('col-convert');
            colConvert.appendChild(spinner);
            fetch('https://nghiaquangle.herokuapp.com/kwangLee', {
                method: 'post',
                credentials: 'same-origin',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ 'content': txtInput.value })
            }).then(response => response.json())
                .then(data => {
                    txtOutput.value = data.content;
                    spinner.parentNode.removeChild(spinner);
                    btnConvert.removeAttribute('disabled');
                }).catch(error => {
                    btnConvert.removeAttribute('disabled');
                    spinner.parentNode.removeChild(spinner);
                });
        }

        function copyAction(elementId) {
            /* Get the text field */
            var copyText = document.getElementById(elementId);

            /* Select the text field */
            copyText.focus();
            copyText.select();

            /* Copy the text inside the text field */
            document.execCommand("copy");

            /* Alert the copied text */
            alert("Đả copy");
        }

        btnCopyCopypasta.onclick = () => { copyAction('txtOutputCopypasta'); }
        btnCopy.onclick = () => { copyAction('txtOutput') };
    </script>
    <style>
        body {
            background-image: url('./images/157715874_1179239449167034_5543032174990520795_n.jpg');
        }
    </style>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
    <!-- Thư viện jquery đã nén phục vụ cho bootstrap.min.js  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Thư viện popper đã nén phục vụ cho bootstrap.min.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>
    <!-- Bản js đã nén của bootstrap 4, đặt dưới cùng trước thẻ đóng body-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
</body>

</html>